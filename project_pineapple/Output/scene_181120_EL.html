<!doctype html>
<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/98/three.min.js"></script>
    <script src="https://cdn.rawgit.com/mrdoob/three.js/master/examples/js/controls/OrbitControls.js"></script>
    <style>
      body {
        margin: 0;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <script>
    var scene = new THREE.Scene();

			var camera = new THREE.PerspectiveCamera( 45, window.innerWidth/window.innerHeight, 0.1, 1000 );
			camera.position.x = ( 15.341477);
			camera.position.y = ( 36.877387);
			camera.position.z = ( 45.481824 );
			camera.up.set( 0, 0, 1 );
    var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
            document.body.appendChild( renderer.domElement );

const object = new THREE.Group();

const data = [{"faces": "[0,1,3,5,3,4,1,2,3,7,8,9,11,7,9,7,11,6,9,10,11,13,17,12,15,16,17,15,13,14,17,13,15,23,21,22,19,23,22,23,19,20,22,18,19,25,29,24,27,28,29,26,27,29,31,32,33,35,31,33,31,35,30,33,34,35,39,40,41,37,39,41,39,37,38,41,36,37,47,45,46,43,47,46,47,43,44,46,42,43,49,50,51,52,53,51,48,49,53,59,54,55,57,59,55,59,57,58,55,56,57,65,63,64,61,62,63,61,65,60,63,65,61,71,69,70,67,71,70,71,67,68,70,66,67,77,72,73,75,77,73,76,77,75,83,78,79,81,83,79,83,81,82,79,80,81,89,87,88,85,89,88,89,85,86,88,84,85,91,92,95,94,91,95,91,94,90,95,93,94,97,98,99,101,97,99,97,101,96,99,100,101,106,107,105,104,107,106,103,106,102,112,113,111,108,109,113,111,109,110,113,109,111,118,114,115,118,115,116,118,119,117]", "vertices": "[-5.25722503662109,-8.50656127929688,0,0,-8.50656127929688,0,2.62861251831055,-6.88189315795898,4.25328063964844,-2.62861251831055,-6.88189315795898,4.25328063964844,2.62861251831055,-6.88189315795898,4.25328063964844,0,-5.25722503662109,8.50656127929688,0,-8.50656127929688,0,5.25722503662109,-8.50656127929688,0,2.62861251831055,-6.88189315795898,4.25328063964844,2.62861251831055,-6.88189315795898,4.25328063964844,5.25722503662109,-8.50656127929688,0,6.88189315795898,-4.25328063964844,2.62861251831055,4.25328063964844,-2.62861251831055,6.88189315795898,2.62861251831055,-6.88189315795898,4.25328063964844,6.88189315795898,-4.25328063964844,2.62861251831055,2.62861251831055,-6.88189315795898,4.25328063964844,4.25328063964844,-2.62861251831055,6.88189315795898,0,-5.25722503662109,8.50656127929688,6.88189315795898,-4.25328063964844,2.62861251831055,8.50656127929688,0,5.25722503662109,4.25328063964844,-2.62861251831055,6.88189315795898,4.25328063964844,-2.62861251831055,6.88189315795898,0,0,8.50656127929688,0,-5.25722503662109,8.50656127929688,4.25328063964844,2.62861251831055,6.88189315795898,0,5.25722503662109,8.50656127929688,0,0,8.50656127929688,4.25328063964844,2.62861251831055,6.88189315795898,4.25328063964844,-2.62861251831055,6.88189315795898,8.50656127929688,0,5.25722503662109,0,0,8.50656127929688,4.25328063964844,-2.62861251831055,6.88189315795898,4.25328063964844,2.62861251831055,6.88189315795898,6.88189315795898,4.25328063964844,2.62861251831055,5.25722503662109,8.50656127929688,0,2.62861251831055,6.88189315795898,4.25328063964844,4.25328063964844,2.62861251831055,6.88189315795898,6.88189315795898,4.25328063964844,2.62861251831055,2.62861251831055,6.88189315795898,4.25328063964844,6.88189315795898,4.25328063964844,2.62861251831055,4.25328063964844,2.62861251831055,6.88189315795898,8.50656127929688,0,5.25722503662109,2.62861251831055,6.88189315795898,4.25328063964844,0,5.25722503662109,8.50656127929688,4.25328063964844,2.62861251831055,6.88189315795898,2.62861251831055,6.88189315795898,4.25328063964844,-2.62861251831055,6.88189315795898,4.25328063964844,0,5.25722503662109,8.50656127929688,0,8.50656127929688,0,-5.25722503662109,8.50656127929688,0,-2.62861251831055,6.88189315795898,4.25328063964844,5.25722503662109,8.50656127929688,0,0,8.50656127929688,0,-2.62861251831055,6.88189315795898,4.25328063964844,-2.62861251831055,6.88189315795898,4.25328063964844,-5.25722503662109,8.50656127929688,0,-6.88189315795898,4.25328063964844,2.62861251831055,-4.25328063964844,2.62861251831055,6.88189315795898,-2.62861251831055,6.88189315795898,4.25328063964844,-6.88189315795898,4.25328063964844,2.62861251831055,-2.62861251831055,6.88189315795898,4.25328063964844,-4.25328063964844,2.62861251831055,6.88189315795898,0,5.25722503662109,8.50656127929688,-6.88189315795898,4.25328063964844,2.62861251831055,-8.50656127929688,0,5.25722503662109,-4.25328063964844,2.62861251831055,6.88189315795898,-4.25328063964844,2.62861251831055,6.88189315795898,-8.50656127929688,0,5.25722503662109,-4.25328063964844,-2.62861251831055,6.88189315795898,0,0,8.50656127929688,-4.25328063964844,2.62861251831055,6.88189315795898,-4.25328063964844,-2.62861251831055,6.88189315795898,-4.25328063964844,2.62861251831055,6.88189315795898,0,0,8.50656127929688,0,5.25722503662109,8.50656127929688,-4.25328063964844,-2.62861251831055,6.88189315795898,0,-5.25722503662109,8.50656127929688,0,0,8.50656127929688,-6.88189315795898,-4.25328063964844,2.62861251831055,-5.25722503662109,-8.50656127929688,0,-2.62861251831055,-6.88189315795898,4.25328063964844,-4.25328063964844,-2.62861251831055,6.88189315795898,-6.88189315795898,-4.25328063964844,2.62861251831055,-2.62861251831055,-6.88189315795898,4.25328063964844,-6.88189315795898,-4.25328063964844,2.62861251831055,-4.25328063964844,-2.62861251831055,6.88189315795898,-8.50656127929688,0,5.25722503662109,-2.62861251831055,-6.88189315795898,4.25328063964844,0,-5.25722503662109,8.50656127929688,-4.25328063964844,-2.62861251831055,6.88189315795898,0,-8.50656127929688,0,-5.25722503662109,-8.50656127929688,0,-2.62861251831055,-6.88189315795898,-4.25328063964844,0,-5.25722503662109,-8.50656127929688,2.62861251831055,-6.88189315795898,-4.25328063964844,-2.62861251831055,-6.88189315795898,-4.25328063964844,5.25722503662109,-8.50656127929688,0,0,-8.50656127929688,0,2.62861251831055,-6.88189315795898,-4.25328063964844,6.88189315795898,-4.25328063964844,-2.62861251831055,5.25722503662109,-8.50656127929688,0,2.62861251831055,-6.88189315795898,-4.25328063964844,4.25328063964844,-2.62861251831055,-6.88189315795898,6.88189315795898,-4.25328063964844,-2.62861251831055,2.62861251831055,-6.88189315795898,-4.25328063964844,6.88189315795898,-4.25328063964844,-2.62861251831055,4.25328063964844,-2.62861251831055,-6.88189315795898,8.50656127929688,0,-5.25722503662109,2.62861251831055,-6.88189315795898,-4.25328063964844,0,-5.25722503662109,-8.50656127929688,4.25328063964844,-2.62861251831055,-6.88189315795898,4.25328063964844,2.62861251831055,-6.88189315795898,0,0,-8.50656127929688,0,5.25722503662109,-8.50656127929688,4.25328063964844,-2.62861251831055,-6.88189315795898,0,-5.25722503662109,-8.50656127929688,0,0,-8.50656127929688,4.25328063964844,-2.62861251831055,-6.88189315795898,4.25328063964844,2.62861251831055,-6.88189315795898,8.50656127929688,0,-5.25722503662109,0,0,-8.50656127929688,4.25328063964844,2.62861251831055,-6.88189315795898,4.25328063964844,-2.62861251831055,-6.88189315795898,2.62861251831055,6.88189315795898,-4.25328063964844,5.25722503662109,8.50656127929688,0,6.88189315795898,4.25328063964844,-2.62861251831055,4.25328063964844,2.62861251831055,-6.88189315795898,2.62861251831055,6.88189315795898,-4.25328063964844,6.88189315795898,4.25328063964844,-2.62861251831055,2.62861251831055,6.88189315795898,-4.25328063964844,4.25328063964844,2.62861251831055,-6.88189315795898,0,5.25722503662109,-8.50656127929688,6.88189315795898,4.25328063964844,-2.62861251831055,8.50656127929688,0,-5.25722503662109,4.25328063964844,2.62861251831055,-6.88189315795898,-2.62861251831055,6.88189315795898,-4.25328063964844,-5.25722503662109,8.50656127929688,0,0,8.50656127929688,0,2.62861251831055,6.88189315795898,-4.25328063964844,-2.62861251831055,6.88189315795898,-4.25328063964844,0,8.50656127929688,0,0,5.25722503662109,-8.50656127929688,-2.62861251831055,6.88189315795898,-4.25328063964844,2.62861251831055,6.88189315795898,-4.25328063964844,-6.88189315795898,4.25328063964844,-2.62861251831055,-5.25722503662109,8.50656127929688,0,-2.62861251831055,6.88189315795898,-4.25328063964844,-4.25328063964844,2.62861251831055,-6.88189315795898,-6.88189315795898,4.25328063964844,-2.62861251831055,-2.62861251831055,6.88189315795898,-4.25328063964844,-6.88189315795898,4.25328063964844,-2.62861251831055,-4.25328063964844,2.62861251831055,-6.88189315795898,-8.50656127929688,0,-5.25722503662109,-2.62861251831055,6.88189315795898,-4.25328063964844,0,5.25722503662109,-8.50656127929688,-4.25328063964844,2.62861251831055,-6.88189315795898,-4.25328063964844,-2.62861251831055,-6.88189315795898,-8.50656127929688,0,-5.25722503662109,-4.25328063964844,2.62861251831055,-6.88189315795898,0,0,-8.50656127929688,-4.25328063964844,-2.62861251831055,-6.88189315795898,-4.25328063964844,2.62861251831055,-6.88189315795898,-4.25328063964844,-2.62861251831055,-6.88189315795898,0,0,-8.50656127929688,0,-5.25722503662109,-8.50656127929688,-4.25328063964844,2.62861251831055,-6.88189315795898,0,5.25722503662109,-8.50656127929688,0,0,-8.50656127929688,-2.62861251831055,-6.88189315795898,-4.25328063964844,-5.25722503662109,-8.50656127929688,0,-6.88189315795898,-4.25328063964844,-2.62861251831055,-4.25328063964844,-2.62861251831055,-6.88189315795898,-2.62861251831055,-6.88189315795898,-4.25328063964844,-6.88189315795898,-4.25328063964844,-2.62861251831055,-2.62861251831055,-6.88189315795898,-4.25328063964844,-4.25328063964844,-2.62861251831055,-6.88189315795898,0,-5.25722503662109,-8.50656127929688,-6.88189315795898,-4.25328063964844,-2.62861251831055,-8.50656127929688,0,-5.25722503662109,-4.25328063964844,-2.62861251831055,-6.88189315795898,6.88189315795898,-4.25328063964844,2.62861251831055,5.25722503662109,-8.50656127929688,0,6.88189315795898,-4.25328063964844,-2.62861251831055,8.50656127929688,0,0,6.88189315795898,-4.25328063964844,2.62861251831055,6.88189315795898,-4.25328063964844,-2.62861251831055,6.88189315795898,-4.25328063964844,2.62861251831055,8.50656127929688,0,0,8.50656127929688,0,5.25722503662109,6.88189315795898,-4.25328063964844,-2.62861251831055,8.50656127929688,0,-5.25722503662109,8.50656127929688,0,0,6.88189315795898,4.25328063964844,-2.62861251831055,8.50656127929688,0,0,8.50656127929688,0,-5.25722503662109,8.50656127929688,0,5.25722503662109,8.50656127929688,0,0,6.88189315795898,4.25328063964844,-2.62861251831055,6.88189315795898,4.25328063964844,2.62861251831055,6.88189315795898,4.25328063964844,-2.62861251831055,5.25722503662109,8.50656127929688,0,-8.50656127929688,0,-5.25722503662109,-8.50656127929688,0,0,-6.88189315795898,4.25328063964844,-2.62861251831055,-8.50656127929688,0,5.25722503662109,-6.88189315795898,4.25328063964844,2.62861251831055,-8.50656127929688,0,0,-6.88189315795898,4.25328063964844,-2.62861251831055,-6.88189315795898,4.25328063964844,2.62861251831055,-5.25722503662109,8.50656127929688,0,-8.50656127929688,0,0,-6.88189315795898,4.25328063964844,2.62861251831055,-6.88189315795898,4.25328063964844,-2.62861251831055,-6.88189315795898,-4.25328063964844,-2.62861251831055,-5.25722503662109,-8.50656127929688,0,-6.88189315795898,-4.25328063964844,2.62861251831055,-6.88189315795898,-4.25328063964844,-2.62861251831055,-6.88189315795898,-4.25328063964844,2.62861251831055,-8.50656127929688,0,5.25722503662109,-6.88189315795898,-4.25328063964844,-2.62861251831055,-8.50656127929688,0,0,-8.50656127929688,0,-5.25722503662109]", "colours": "[217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72,217,72,72]", "geoName": "LadyBug"}]

function createGroupedArray(arr, chunkSize) {
    var groups = [], i;
    for (i = 0; i < arr.length; i += chunkSize) {
        groups.push(arr.slice(i, i + chunkSize));
    }
    return groups;
}

function faces(data) {
    for (var i = 0; i < data.length; i++){
        var obj = JSON.parse(data[i].faces);
        console.log(data[i].faces)
        console.log(createGroupedArray(obj, 3));
        var face = createGroupedArray(obj, 3);
        for (var x = 0; x < face.length; x++) {
            var face1 = face[x][0];
            var face2 = face[x][1];
            var face3 = face[x][2];
            // console.log(face1 + "/" + face2 + "/" + face3)
        }
    }
    return face;
}

var faceData = faces(data);

function vertices(data) {
    
}

function displayGeo(faceData) {
    var tempGeometry = new THREE.Geometry();
    // tempGeometry.vertices.push( new THREE.Vector3(vertData[0], vertData[1], vertData[2]));
    for (var x = 0; x < faceData.length; x++) {
        var face1 = faceData[x][0];
        var face2 = faceData[x][1];
        var face3 = faceData[x][2];
        console.log(face1 + "/" + face2 + "/" + face3)
        tempGeometry.faces.push( new THREE.Face3(face1, face2, face3));
    }
    
}

displayGeo(faceData)

// function loadDisplayGeom(rb_geometry, object){
//       console.log(rb_geometry);
//       for (var i = 0; i < rb_geometry.length; i++) {
//         // console.log(rb_geometry[i])
//         var geometry = new THREE.BufferGeometry();
//         var vert = new Float32Array(JSON.parse(rb_geometry[i].vertices));
//         var col = new Uint8Array(JSON.parse(rb_geometry[i].colours));
//         var name = rb_geometry[i].geoName
//         geometry.addAttribute("position", new THREE.BufferAttribute(vert, 3));
//         geometry.addAttribute("color", new THREE.BufferAttribute(col, 3, true));
//         var material = new THREE.MeshBasicMaterial({
//           vertexColors: THREE.VertexColors,
//           side: THREE.DoubleSide
//         });
//         var mesh = new THREE.Mesh(geometry, material);
//         mesh.name = name;
//         object.add(mesh)
//       }
//       return object;
//     }
    
// scene.add(loadDisplayGeom(data, object));
var controls = new THREE.OrbitControls(camera, renderer.domElement);
			
			window.addEventListener( 'resize', onWindowResize, false );

			function onWindowResize(){

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize( window.innerWidth, window.innerHeight );

			}
			
			var animate = function () {
				
				requestAnimationFrame( animate );
				
				renderer.render( scene, camera );
			};
            animate();
</script>
  </body>
</html>